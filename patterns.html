<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/13.3.1/Tone.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/scribbletune/1.9.4/scribbletune.js"></script>
</head>
<body>
  <button id="new">NEW PATTERN</button>
</body>
<script>

// ['l','h','r']

function generatePattern(num_eigth_notes){
  var pattern = [];

  var rest_prob = Math.random();
  var low_prob = Math.random();
  //var high_prob = Math.random();

  for(var b=0; b<num_eigth_notes;b++){
      if(Math.random() < rest_prob){
        pattern.push('r');
      } else if(Math.random() < low_prob ) {
        pattern.push('l') ;
      } else {
        pattern.push('h') ;
      }
  }
  
  return(pattern);
}

function convertPatternToBeatString(pattern, note){
  var string = '';
  for(var i=0; i<pattern.length; i++){
    pattern[i] == note
     
    if (pattern[i]==note) {
      string=string +'x'
    } else {
      string=string +'-'
    }
  }
  return string;
}

var finalpattern = [] ;

for (var t=0; t<100 ; t++) {
    var pattern = generatePattern(16)
    
    for (var i=0; i<finalpattern.length; i++) {
        console.log(JSON.stringify(pattern) == JSON.stringify(finalpattern[i]));
    }

    finalpattern.push(pattern)
};

console.log(JSON.stringify(finalpattern));


</script>
</html>